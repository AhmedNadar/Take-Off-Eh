<div class="container flex flex-wrap items-center justify-center mx-auto">
  <%= form_with(model: company, multipart: true, local: true) do |form| %>
    <% if company.errors.any? %>
      <div id="error_explanation" class="p-6 mb-5 text-red-500 bg-white rounded">
        <h2 class="font-bold text-red-500"><%= pluralize(company.errors.count, "error") %> prohibited this company from being saved:</h2>

        <ul>
          <% company.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    
    <%
=begin%>
 <div class="mb-6">
      <%= form.label :company_logo, "Comapny thumbnail", class: "label" %>
      <%= form.file_field :company_logo %>
    </div> 
<%
=end%>

  <div class="mb-6">
    <%= form.label :company_logo, "Company Logo " , class: "label" %>
    <div class="dropzone dropzone-default dz-clickable" data-controller="dropzone" data-dropzone-max-file-size="2" data-dropzone-max-files="1">
    <%= form.file_field :company_logo, direct_upload: true, class: 'form-input py-10', accept: 'image/png, image/jpeg, image/gif, image/tiff', size_limit: 5_000_000, data: { target: 'dropzone.input' } %>
    <div class="text-gray-600 dropzone-msg dz-message needsclick">
      <h3 class="dropzone-msg-title">Drag here to upload or click here to browse</h3>
      <span class="text-sm dropzone-msg-desc">2 MB file size maximum. Allowed file types png, jpg.</span>
      </div>
    </div>
  </div>



  <div class="mb-6">
    <%= form.label :company_images, "Company Image Gallery " , class: "label" %>
    <div class="dropzone dropzone-default dz-clickable" data-controller="dropzone" data-dropzone-max-file-size="2" data-dropzone-max-files="10">
    <%= form.file_field :company_images, multiple: true, direct_upload: true, class: 'form-input py-10', accept: 'image/png, image/jpeg, image/gif, image/tiff', size_limit: 5_000_000, data: { target: 'dropzone.input' } %>
    <div class="text-gray-600 dropzone-msg dz-message needsclick">
      <h3 class="dropzone-msg-title">Drag here to upload or click here to browse</h3>
      <span class="text-sm dropzone-msg-desc">2 MB file size maximum. Allowed file types png, jpg.</span>
      </div>
    </div>
  </div>




    <%
=begin%>
 <div class="mb-6">
      <%= form.label :company_images, "Comapny Images", class: "label" %>
      <%= form.file_field :company_images, multiple: true, direct_upload: true, class: 'form-input py-10', accept: 'image/png, image/jpeg, image/gif, image/tiff', size_limit: 5_000_000 %>

    </div> 
<%
=end%>

    <div class="mb-6">
      <%= form.label :name, "Company Name", class: "label" %>
      <%= form.text_field :name, class: "input", required: 'required', placeholder: "Company Name" %>
    </div>

    <div class="mb-6">
      <%= form.label :details, "Company info", class: "label" %>
      <%= form.rich_text_area :details, class: "input", required: 'required', placeholder: "Enter your company or organization’s mission statement. This will be displayed on your company’s profile." %>
    </div>

    <div class="mb-6">
      <%= form.label :email, "Email", class: "label" %>
      <%= form.text_field :email, class: "input", required: 'required', placeholder: "We’ll send your receipt and confirmation email here." %>
    </div>

    <div class="mb-6">
      <%= form.label :website, "Company's Website URL", class: "label" %>
      <%= form.text_field :website, class: "input", required: 'required', placeholder: "Example: https://mybusiness.com/" %>
    </div>

    <div class="mb-6">
      <%= form.label :headquarter, "Company's headquarter ", class: "label" %>
      <%= form.text_field :headquarter, class: "input", placeholder: "Example: Toronto, Canada" %>
    </div>

    <div class="mb-6">
      <%= form.label :company_size, "Company's team size ", class: "label" %>
      <%= form.text_field :company_size, class: "input", placeholder: "Example: 10 -20" %>
    </div>

    <div class="mb-6">
      <%= form.label :phone_number, "Company's phone_number ", class: "label" %>
      <%= form.text_field :phone_number, class: "input", placeholder: "Example: 00-01-647-2345" %>
    </div>

    <div class="mb-6">
      <%= form.label :business_model, "Company's business_model ", class: "label" %>
      <%= form.text_field :business_model, class: "input", placeholder: "Choose one of: B2C, B2B, Marketplace or B2G" %>
    </div>

    <div class="mb-6">
      <%= form.label :stage, "Company's stage ", class: "label" %>
      <%= form.text_field :stage, class: "input", placeholder: "Example:Idea, Product or prototype, Go to Market, Growth and expancion" %>
    </div>  

    <div class="mb-6">
      <%= form.label :industry, "Company's industry ", class: "label" %>
      <%= form.text_field :industry, class: "input", placeholder: "Example:Idea, Advertising, IT, Gaming, ..." %>
    </div>

    <div class="mb-6">
      <%= form.label :found_date, "Founded Date", class: "label" %>
      <%= form.text_field :found_date, class: "input", placeholder: "When your company was founded" %>
    </div>



          <div class="mb-6">


            <div class="row team_members-body">
              <br><hr>
              <strong><h3>List your team</h3></strong>
              <p><i>List your team of bulletproof talent to attract future co-workers and investors e.g. Founder(s), C-suite and key staff</i></p>
              <br>
          
              <div data-controller="nested-form">
                
                <template data-target='nested-form.template'>
                  <%= form.fields_for :team_members,  TeamMember.new, child_index: 'TEMPLATE_RECORD' do |member| %>
                    <%= render 'team_member_fields', form: member %>
                  <% end %>
                </template>
                  
                  
                  <%= form.fields_for :team_members do |member| %>
                    <%= render 'team_member_fields', form: member %>
                  <% end %>
                  
                  <div data-target="nested-form.add_item">
                  <%= link_to  "Add member", "#", data: { action: "nested-form#add_association" } %>
                  </div>

              <div>
            </div>
          </div>

    <div class="mb-6">
      <%= form.submit class: "btn btn-default" %>
    </div>
  <% end %>
</div>